(function(t){function i(i){for(var n,a,s=i[0],g=i[1],l=i[2],h=0,u=[];h<s.length;h++)a=s[h],r[a]&&u.push(r[a][0]),r[a]=0;for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&(t[n]=g[n]);c&&c(i);while(u.length)u.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,i=0;i<o.length;i++){for(var e=o[i],n=!0,s=1;s<e.length;s++){var g=e[s];0!==r[g]&&(n=!1)}n&&(o.splice(i--,1),t=a(a.s=e[0]))}return t}var n={},r={app:0},o=[];function a(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=n,a.d=function(t,i,e){a.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,i){if(1&i&&(t=a(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)a.d(e,n,function(i){return t[i]}.bind(null,n));return e},a.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(i,"a",i),i},a.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],g=s.push.bind(s);s.push=i,s=s.slice();for(var l=0;l<s.length;l++)i(s[l]);var c=g;o.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";var n=e("9e74"),r=e.n(n);r.a},4927:function(t,i,e){t.exports=e.p+"img/huya.b8100da9.jpg"},"56d7":function(t,i,e){"use strict";e.r(i);e("5c07"),e("53da"),e("2556"),e("d0f8");var n=e("6e6d"),r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("jsCrop")],1)},o=[],a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{attrs:{id:"crop_image_content"}},[e("div",{ref:"imgContainer",attrs:{id:"imgContainer"}},[e("img",{ref:"img",attrs:{id:"cropimg",alt:"",src:t.imgURL}})]),e("div",{attrs:{id:"mainBox",draggable:"true"},on:{dragstart:t.mainBoxDragS,dragend:t.mainBoxDragE}},[e("div",{staticClass:"minBox up",attrs:{id:"up",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox left",attrs:{id:"left",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox right",attrs:{id:"right",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox down",attrs:{id:"down",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}})])]),e("form",{attrs:{id:"uploadForm",action:""}},[e("div",{attrs:{id:"uploadImage"}},[e("a",{staticClass:"addImage",attrs:{href:"javascript:;"}},[e("input",{attrs:{id:"imgFile",type:"file",name:"imgFile"},on:{change:t.imgChange}})])])]),e("div",{attrs:{id:"dataContainer"}},[e("P",[t._v("位置相对于左上角（top left）")]),e("p",[t._v("左上角："+t._s(t.top_T)+" "+t._s(t.left_L))]),e("p",[t._v("右上角："+t._s(t.top_T)+" "+t._s(t.left_R))]),e("p",[t._v("左下角："+t._s(t.top_B)+" "+t._s(t.left_L))]),e("p",[t._v("右下角："+t._s(t.top_B)+" "+t._s(t.left_R))])],1)])},s=[],g=(e("b06f"),{data:function(){return{imgURL:e("4927"),ifDown:!1,mouseInDom:{clientX:0,clientY:0},imgContainerLeft:0,imgContainerTop:0,imgContainerWidth:0,imgContainerHeight:0,BOX_MINIMUM:10,left_L:"0%",top_T:"0%",left_R:"0%",top_B:"0%",isImgOnload:!1}},mounted:function(){var t=this;this.getImgCData(),window.onresize=function(){t.getImgCData(),t.computePosition()}},methods:{imgChange:function(t){var i=t.target.files;if(i&&i.length>0){var e;e=i[0];var n=window.URL||window.webkitURL,r=n.createObjectURL(e);this.imgURL=r}},mainBoxDragS:function(t){this.mouseInDom.clientX=t.clientX-this.imgContainerLeft-30-Number(t.target.style.left.slice(0,-2)),this.mouseInDom.clientY=t.clientY-this.imgContainerTop-30-Number(t.target.style.top.slice(0,-2))},mainBoxDragE:function(t){if("mainBox"!==t.target.id)return!1;this.moveBox(t),this.computePosition()},moveBox:function(t){var i=t.clientX,e=t.clientY,n=e-this.imgContainerTop-30-this.mouseInDom.clientY,r=i-this.imgContainerLeft-30-this.mouseInDom.clientX,o=document.getElementById("mainBox"),a=o.clientWidth,s=o.clientHeight;n<this.imgContainerTop&&(this.imgContainerTop||(n=0)),r<this.imgContainerLeft&&(this.imgContainerLeft||(r=0)),n+s>this.imgContainerTop+this.imgContainerHeight&&(n=this.imgContainerTop+this.imgContainerHeight-s),r+a>this.imgContainerLeft+this.imgContainerWidth&&(r=this.imgContainerLeft+this.imgContainerWidth-a),t.target.style.top=n+"px",t.target.style.left=r+"px"},changeDragS:function(t){t.stopPropagation()},changeE:function(t){var i=t.clientX,e=t.clientY,n=document.getElementById("mainBox"),r=Number(n.style.left.slice(0,-2)),o=Number(n.style.top.slice(0,-2)),a=n.clientWidth,s=n.clientHeight;switch(t.target.id){case"right":this.rightOrDown(i,n,r,"width");break;case"left":this.leftOrUp(i,n,r,a,"width");break;case"up":this.leftOrUp(e,n,o,s,"height");break;case"down":this.rightOrDown(e,n,o,"height")}this.computePosition()},rightOrDown:function(t,i,e,n){var r,o,a=t-30-e;"width"===n?(r=this.imgContainerLeft,o=this.imgContainerWidth):(r=this.imgContainerTop,o=this.imgContainerHeight);var s=r+o-e;a=a>s?s:a,a<this.BOX_MINIMUM||(i.style[n]=a+"px")},leftOrUp:function(t,i,e,n,r){if(0===t)return!1;var o=n+e+30-t,a=t-30,s=e+n;if(o>s&&(o=s,a=0),!(o<this.BOX_MINIMUM)){var g="width"===r?"left":"top";i.style[r]=o+"px",i.style[g]=a+"px"}},computePosition:function(){var t=document.getElementById("mainBox"),i=t.clientWidth,e=t.clientHeight,n=Number(t.style.left.slice(0,-2)),r=Number(t.style.top.slice(0,-2));this.left_L=(n/this.imgContainerWidth*100+"").slice(0,5)+"%",this.top_T=(r/this.imgContainerHeight*100+"").slice(0,5)+"%",this.left_R=((n+i)/this.imgContainerWidth*100+"").slice(0,5)+"%",this.top_B=((r+e)/this.imgContainerHeight*100+"").slice(0,5)+"%"},getImgCData:function(){var t=this,i=this.$refs.imgContainer;this.imgContainerLeft=i.style.left,this.imgContainerTop=i.style.top,this.imgContainerWidth=i.clientWidth,this.isImgOnload?this.imgContainerHeight=i.clientHeight:this.$refs.img.onload=function(){t.imgContainerHeight=i.clientHeight,t.isImgOnload=!0}}}}),l=g,c=(e("ea88"),e("17cc")),h=Object(c["a"])(l,a,s,!1,null,null,null),u=h.exports,m={name:"app",components:{jsCrop:u}},d=m,f=(e("034f"),Object(c["a"])(d,r,o,!1,null,null,null)),p=f.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(p)}}).$mount("#app")},"9e74":function(t,i,e){},e69b:function(t,i,e){},ea88:function(t,i,e){"use strict";var n=e("e69b"),r=e.n(n);r.a}});
//# sourceMappingURL=app.0f8948c2.js.map