(function(t){function i(i){for(var n,o,s=i[0],g=i[1],l=i[2],h=0,d=[];h<s.length;h++)o=s[h],r[o]&&d.push(r[o][0]),r[o]=0;for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&(t[n]=g[n]);c&&c(i);while(d.length)d.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,i=0;i<a.length;i++){for(var e=a[i],n=!0,s=1;s<e.length;s++){var g=e[s];0!==r[g]&&(n=!1)}n&&(a.splice(i--,1),t=o(o.s=e[0]))}return t}var n={},r={app:0},a=[];function o(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)o.d(e,n,function(i){return t[i]}.bind(null,n));return e},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],g=s.push.bind(s);s.push=i,s=s.slice();for(var l=0;l<s.length;l++)i(s[l]);var c=g;a.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";var n=e("9e74"),r=e.n(n);r.a},4927:function(t,i,e){t.exports=e.p+"img/huya.b8100da9.jpg"},"56d7":function(t,i,e){"use strict";e.r(i);e("5c07"),e("53da"),e("2556"),e("d0f8");var n=e("6e6d"),r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("jsCrop")],1)},a=[],o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{attrs:{id:"crop_image_content"}},[e("div",{ref:"imgContainer",attrs:{id:"imgContainer"}},[e("img",{ref:"img",attrs:{id:"cropimg",alt:"",src:t.imgURL}})]),e("div",{attrs:{id:"mainBox",draggable:"true"},on:{dragstart:t.mainBoxDragS,dragend:t.mainBoxDragE}},[e("div",{staticClass:"minBox left-up",attrs:{id:"left-up",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox up",attrs:{id:"up",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox right-up",attrs:{id:"right-up",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox left",attrs:{id:"left",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox right",attrs:{id:"right",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox left-down",attrs:{id:"left-down",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox down",attrs:{id:"down",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}}),e("div",{staticClass:"minBox right-down",attrs:{id:"right-down",draggable:"true"},on:{dragstart:t.changeDragS,drag:t.changeE}})])]),e("form",{attrs:{id:"uploadForm",action:""}},[e("div",{attrs:{id:"uploadImage"}},[e("a",{staticClass:"addImage",attrs:{href:"javascript:;"}},[e("input",{attrs:{id:"imgFile",type:"file",name:"imgFile"},on:{change:t.imgChange}})])])]),e("div",{attrs:{id:"dataContainer"}},[e("P",[t._v("位置相对于左上角（top left）")]),e("p",[t._v("左上角："+t._s(t.top_T)+" "+t._s(t.left_L))]),e("p",[t._v("右上角："+t._s(t.top_T)+" "+t._s(t.left_R))]),e("p",[t._v("左下角："+t._s(t.top_B)+" "+t._s(t.left_L))]),e("p",[t._v("右下角："+t._s(t.top_B)+" "+t._s(t.left_R))])],1)])},s=[],g=(e("b06f"),{data:function(){return{imgURL:e("4927"),ifDown:!1,mouseInDom:{clientX:0,clientY:0},imgContainerLeft:0,imgContainerTop:0,imgContainerWidth:0,imgContainerHeight:0,BOX_MINIMUM:10,left_L:"0%",top_T:"0%",left_R:"0%",top_B:"0%",isImgOnload:!1}},mounted:function(){var t=this;this.getImgCData(),window.onresize=function(){t.getImgCData(),t.computePosition()}},methods:{imgChange:function(t){var i=t.target.files;if(i&&i.length>0){var e;e=i[0];var n=window.URL||window.webkitURL,r=n.createObjectURL(e);this.imgURL=r}},mainBoxDragS:function(t){this.mouseInDom.clientX=t.clientX-this.imgContainerLeft-30-Number(t.target.style.left.slice(0,-2)),this.mouseInDom.clientY=t.clientY-this.imgContainerTop-30-Number(t.target.style.top.slice(0,-2))},mainBoxDragE:function(t){if("mainBox"!==t.target.id)return!1;this.moveBox(t),this.computePosition()},moveBox:function(t){var i=t.clientX,e=t.clientY,n=e-this.imgContainerTop-30-this.mouseInDom.clientY,r=i-this.imgContainerLeft-30-this.mouseInDom.clientX,a=document.getElementById("mainBox"),o=a.clientWidth,s=a.clientHeight;n<this.imgContainerTop&&(this.imgContainerTop||(n=0)),r<this.imgContainerLeft&&(this.imgContainerLeft||(r=0)),n+s>this.imgContainerTop+this.imgContainerHeight&&(n=this.imgContainerTop+this.imgContainerHeight-s),r+o>this.imgContainerLeft+this.imgContainerWidth&&(r=this.imgContainerLeft+this.imgContainerWidth-o),t.target.style.top=n+"px",t.target.style.left=r+"px"},changeDragS:function(t){t.stopPropagation()},changeE:function(t){var i=t.clientX,e=t.clientY,n=document.getElementById("mainBox"),r=Number(n.style.left.slice(0,-2)),a=Number(n.style.top.slice(0,-2)),o=n.clientWidth,s=n.clientHeight;switch(t.target.id){case"right":this.rightOrDown(i,n,r,"width");break;case"left":this.leftOrUp(i,n,r,o,"width");break;case"up":this.leftOrUp(e,n,a,s,"height");break;case"down":this.rightOrDown(e,n,a,"height");break;case"right-up":this.diagonal({clientX:i,clientY:e},n,r,a,o,s,"right-up");break;case"right-down":this.diagonal({clientX:i,clientY:e},n,r,a,o,s,"right-down");break;case"left-up":this.diagonal({clientX:i,clientY:e},n,r,a,o,s,"left-up");break;case"left-down":this.diagonal({clientX:i,clientY:e},n,r,a,o,s,"left-down");break}this.computePosition()},rightOrDown:function(t,i,e,n){var r,a,o=t-30-e;"width"===n?(r=this.imgContainerLeft,a=this.imgContainerWidth):(r=this.imgContainerTop,a=this.imgContainerHeight);var s=r+a-e;o=o>s?s:o,o<this.BOX_MINIMUM||(i.style[n]=o+"px")},leftOrUp:function(t,i,e,n,r){if(0===t)return!1;var a=n+e+30-t,o=t-30,s=e+n;if(a>s&&(a=s,o=0),!(a<this.BOX_MINIMUM)){var g="width"===r?"left":"top";i.style[r]=a+"px",i.style[g]=o+"px"}},diagonal:function(t,i,e,n,r,a,o){var s,g,l,c,h,d,u=t.clientX,f=t.clientY;if(0===u)return!1;"right-up"===o||"right-down"===o?(s=u-30-e,l=this.imgContainerLeft+this.imgContainerWidth-e,h=Number(i.style.left.slice(0,-2))):"left-up"!==o&&"left-down"!==o||(s=r+e+30-u,l=e+r,h=s>l?0:u-30),"right-up"===o||"left-up"===o?(g=a+n+30-f,c=n+a,d=g>c?0:f-30):"right-down"!==o&&"left-down"!==o||(g=f-30-n,c=this.imgContainerTop+this.imgContainerHeight-n,d=Number(i.style.top.slice(0,-2))),s=s>l?l:s,g=g>c?c:g,s<this.BOX_MINIMUM||(i.style.width=s+"px",i.style.left=h+"px"),g<this.BOX_MINIMUM||(i.style.height=g+"px",i.style.top=d+"px")},computePosition:function(){var t=document.getElementById("mainBox"),i=t.clientWidth,e=t.clientHeight,n=Number(t.style.left.slice(0,-2)),r=Number(t.style.top.slice(0,-2));this.left_L=(n/this.imgContainerWidth*100+"").slice(0,5)+"%",this.top_T=(r/this.imgContainerHeight*100+"").slice(0,5)+"%",this.left_R=((n+i)/this.imgContainerWidth*100+"").slice(0,5)+"%",this.top_B=((r+e)/this.imgContainerHeight*100+"").slice(0,5)+"%"},getImgCData:function(){var t=this,i=this.$refs.imgContainer;this.imgContainerLeft=i.style.left,this.imgContainerTop=i.style.top,this.imgContainerWidth=i.clientWidth,this.isImgOnload?this.imgContainerHeight=i.clientHeight:this.$refs.img.onload=function(){t.imgContainerHeight=i.clientHeight,t.isImgOnload=!0}}}}),l=g,c=(e("ea88"),e("17cc")),h=Object(c["a"])(l,o,s,!1,null,null,null),d=h.exports,u={name:"app",components:{jsCrop:d}},f=u,m=(e("034f"),Object(c["a"])(f,r,a,!1,null,null,null)),p=m.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(p)}}).$mount("#app")},"9e74":function(t,i,e){},e69b:function(t,i,e){},ea88:function(t,i,e){"use strict";var n=e("e69b"),r=e.n(n);r.a}});
//# sourceMappingURL=app.54633db0.js.map